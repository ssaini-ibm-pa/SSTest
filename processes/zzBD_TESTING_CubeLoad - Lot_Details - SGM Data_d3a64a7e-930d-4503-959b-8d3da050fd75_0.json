{
	"@type":"Process",
	"Name":"zzBD_TESTING_CubeLoad - Lot_Details - SGM Data_d3a64a7e-930d-4503-959b-8d3da050fd75_0",
	"HasSecurityAccess":true,
	"Code@Code.link":"zzBD_TESTING_CubeLoad - Lot_Details - SGM Data_d3a64a7e-930d-4503-959b-8d3da050fd75_0.ti",
	"DataSource":
	{
		"Type":"ODBC",
		"dataSourceNameForServer":"GBP-SQL03",
		"dataSourceNameForClient":"GBP-SQL03",
		"userName":"admin1",
		"password":"Skittles2805!",
		"query":"SELECT \r\n\tright(sgm.[UnitCode],2) + '-' + mp.[Company Code] + '-' + mp.[Division Code] + \r\n\t\tcase when coalesce(sgm.ProjectCode ,'') = '' then '_Input' else \r\n\t\t\tcase when coalesce (sgm.Lot,'') = '' then '-' + sgm.ProjectCode + '_Input' else '-' + sgm.ProjectCode + '-' + sgm.Lot end \r\n\t\tend as Lot_Code\r\n\t,Measure\r\n\t,Val\r\n\t,case when measure in (\r\n\t\t 'UnitCode'\r\n\t\t ,'UnitName'\r\n\t\t ,'ProjectCode'\r\n\t\t ,'ProjectName'\r\n\t\t ,'Lot'\r\n\t\t ,'Lot Address'\r\n\t\t ,'Lot Type'\r\n\t\t ,'Lot Status'\r\n\t\t ,'Model'\r\n\t\t ,'Elev'\r\n\t\t ,'ModelDescr'\r\n\t\t ,'Plan'\r\n\t\t ,'SqFt'\r\n\t\t ,'Buyer Name'\r\n\t\t ,'Sales Agent'\r\n\t\t ,'CurrentMilestone') then 'S' else 'N' end as Type\r\n\t ,case when sgm.[Lot Status] = 'CLOSED' then 'Actual' else 'Current Forecast' end as Ver\r\n\t ,case when Measure like '%Date' then 1 else 0 end as Is_Date\r\n\t ,right(sgm.UnitCode,2) as Unit_Code\r\n\t ,mp.[Company Code]\r\n\t ,mp.[Division Code]\r\n\t ,sgm.ProjectCode\r\n ,sgm.ProjectName\r\n\t ,sgm.Lot\r\n ,sgm.[Lot Address]\r\n FROM [KeyReports].[dbo].SGM_Tm1Data sgm\r\n\tleft join [InformXL_dm].[helper].[Master_Project] mp on sgm.UnitCode = mp.[OUnit Code] and sgm.ProjectCode = mp.[Project Code]\r\n CROSS APPLY (\r\n VALUES \r\n\t\t('UnitCode',sgm.[UnitCode])\r\n\t\t,('UnitName',sgm.[UnitName])\r\n\t\t,('ProjectCode',sgm.[ProjectCode])\r\n\t\t,('ProjectName',sgm.[ProjectName])\r\n\t\t,('Lot',sgm.[Lot])\r\n\t\t,('Lot Address',sgm.[Lot Address])\r\n\t\t,('Lot Type',sgm.[Lot Type])\r\n\t\t,('Lot Status',sgm.[Lot Status])\r\n\t\t,('Model',sgm.[Model])\r\n\t\t,('Elev',sgm.[Elev])\r\n\t\t,('ModelDescr',sgm.[ModelDescr])\r\n\t\t,('SqFt',cast(sgm.[SqFt] as nvarchar(100)))\r\n\t\t,('Buyer Name',sgm.[Buyer Name])\r\n\t\t,('Sales Agent',sgm.[Sales Agent])\r\n\t\t,('CurrentMilestone',cast(sgm.[CurrentMilestone] as nvarchar(100)))\r\n\t\t,('Base Revenue',cast (sgm.[Base Revenue] as nvarchar(100)))\r\n\t\t,('Closing Costs HBW',cast (sgm.[Closing Costs HBW] as nvarchar(100)))\r\n\t\t,('Commissions internal',cast (sgm.[Commissions internal] as nvarchar(100)))\r\n\t\t,('Commissions external',cast (sgm.[Commissions external] as nvarchar(100)))\r\n\t\t,('Const Loan Interest JBGL'\t,cast (sgm.[Const Loan Interest JBGL] as nvarchar(100)))\r\n\t\t,('Custom Option Cost',cast (sgm.[CUS Cost] as nvarchar(100)))\r\n\t\t,('Custom Options',cast (sgm.[Custom Options] as nvarchar(100)))\r\n\t\t,('Design Option Cost',cast (sgm.[OPT Cost] as nvarchar(100)))\r\n\t\t,('Design Options',cast (sgm.[Design Options] as nvarchar(100)))\r\n\t\t,('Lot Cost',cast (sgm.[Lot Cost] as nvarchar(100)))\r\n\t\t,('Lot Closing Cost',cast (sgm.[Lot Closing Cost] as nvarchar(100)))\r\n\t\t,('Lot Premium',cast (sgm.[Lot Premium] as nvarchar(100)))\r\n\t\t,('Permits and Plans',cast (sgm.[Permits and Plans] as nvarchar(100)))\r\n\t\t,('Direct Const Costs Base',cast (sgm.[Direct Const Costs Base] as nvarchar(100)))\r\n\t\t,('Sales Option Cost',cast (sgm.[UPG Cost] as nvarchar(100)))\r\n\t\t,('Sales Options',cast (sgm.[Sales Options] as nvarchar(100)))\r\n\t\t,('Site Conditions',cast (sgm.[Site Conditions] as nvarchar(100)))\r\n\t\t,('Taxes-Insurance-HOA-Utilities',cast (sgm.[Taxes-Insurance-HOA-Utilities] as nvarchar(100)))\r\n\t\t,('Total Incentives',cast (sgm.[Total Incentives] as nvarchar(100)))\r\n\t\t,('Variance',cast (sgm.[Variance] as nvarchar(100)))\r\n\t\t,('Variance Remaining Budget',cast (sgm.[Variance Budget] as nvarchar(100)))\r\n\t\t,('Warranty',cast (sgm.[Warranty] as nvarchar(100)))\r\n\t\t,('5000',cast (sgm.[Shared Community Costs] as nvarchar(100)))\r\n\t\t,('Approved Date',cast (convert(int, sgm.[Approved Date]) as nvarchar(100)))\r\n\t\t,('Constr Start Date',cast (convert(int, sgm.[Constr Start Date]) as nvarchar(100)))\r\n\t\t,('QI Date'\t,cast (convert(int, cast(cast (sgm.[QI Date] as date) as datetime)) as nvarchar(100)))\r\n\t\t,('Revised Close Date',cast (convert(int, sgm.[Revised Close Date]) as nvarchar(100)))\r\n\t\t,('Actual Close Date',cast (convert(int, sgm.[Actual Close Date]) as nvarchar(100)))\r\n\t\t,('Adj QI Date',cast (convert(int, convert(datetime,sgm.[M9Adj])) as nvarchar(100)))\r\n) x (Measure, Val)\r\nwhere Val is not null ORDER BY Lot_Code OFFSET 0 ROWS FETCH NEXT 100000 ROWS ONLY"
	},
	"Parameters":[],
	"Variables":
	[
		{
			"Name":"Lot_Code",
			"Type":"String",
			"Position":1,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Measure",
			"Type":"String",
			"Position":2,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Value",
			"Type":"String",
			"Position":3,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"DataType",
			"Type":"String",
			"Position":4,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Version",
			"Type":"String",
			"Position":5,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Is_Date",
			"Type":"String",
			"Position":6,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Unit_Code",
			"Type":"String",
			"Position":7,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"CompanyCode",
			"Type":"String",
			"Position":8,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"DivisionCode",
			"Type":"String",
			"Position":9,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"ProjectCode",
			"Type":"String",
			"Position":10,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"ProjectName",
			"Type":"String",
			"Position":11,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"Lot",
			"Type":"String",
			"Position":12,
			"StartByte":0,
			"EndByte":0
		},
		{
			"Name":"LotAddress",
			"Type":"String",
			"Position":13,
			"StartByte":0,
			"EndByte":0
		}
	],
	"UID": "1731974646000",
	"UIData": "_ParameterConstraints=e30=\f",
	"VariablesUIData": [
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f",
		"VarType=32\fColType=827\f"
	]
}